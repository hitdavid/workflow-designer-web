"use strict";var bind=function(t,e){return function(){return t.apply(e,arguments)}};!function(t){return"object"==typeof module&&module.exports?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){var e;return e=function(){function e(e){this.render=bind(this.render,this),this.hideTooltip=bind(this.hideTooltip,this),this.showTooltip=bind(this.showTooltip,this),this.replaceCharacters=bind(this.replaceCharacters,this),this.log=bind(this.log,this),this.settings=t.extend({},this.defaults,e),this.render()}return e.prototype.defaults={action:"focus",debug:!1,element:".error",fadeSpeed:200,html5:!0,preventDefault:!1,removeAll:!1,removeSpecific:!1,tailLength:14,tooltipClass:""},e.prototype.log=function(t){return this.settings.debug&&"undefined"!=typeof console&&null!==console?console.info(t):void 0},e.prototype.replaceCharacters=function(t){var e,i,o,n,s,l,r;o=[],l=[],i=[],s=[],e=t.split("");for(n in e)r=e[n],"^"===r&&o.push(n),"*"===r&&l.push(n),"~"===r&&i.push(n),"`"===r&&s.push(n),"|"===r&&(e[n]="<br />"),"{"===r&&(e[n]="<ul>"),"}"===r&&(e[n]="</ul>");for(;o.length>1;)e[o[0]]="<h1>",e[o[1]]="</h1>",o.splice(0,2);for(;l.length>1;)e[l[0]]="<strong>",e[l[1]]="</strong>",l.splice(0,2);for(;i.length>1;)e[i[0]]="<em>",e[i[1]]="</em>",i.splice(0,2);for(;s.length;)e[s[0]]="<li>",s.splice(0,1);return e.join("")},e.prototype.showTooltip=function(e){var i,o,n,s,l,r,u,c,f,p,h;if(e.attr("data-tooltip")){switch(this.hideTooltip(),s=this.replaceCharacters(e.attr("data-tooltip")),i=e.attr("data-tooltip-direction"),c=this.settings.html5?"<aside>":"<div>",t(c).addClass("tooltip "+this.settings.tooltipClass).html(s).appendTo("body"),n=e.outerWidth(),o=e.outerHeight(),p=t(".tooltip:last").outerWidth(),f=t(".tooltip:last").outerHeight(),r=e.offset(),h=r.top,l=0,u=0,i){case"left":u=r.left-p-this.settings.tailLength,h=h-f/2+o/2,t(".tooltip:last").css({left:u,top:h}).addClass("left").fadeIn(this.settings.fadeSpeed);break;case"bottom":h=r.top+o+this.settings.tailLength,l=r.left+n/2-p/2,t(".tooltip:last").css({left:l,top:h}).addClass("bottom").fadeIn(this.settings.fadeSpeed);break;case"top":h=r.top-f-this.settings.tailLength,l=r.left+n/2-p/2,t(".tooltip:last").css({left:l,top:h}).addClass("top").fadeIn(this.settings.fadeSpeed);break;default:l=r.left+n+this.settings.tailLength,h=h-f/2+o/2,t(".tooltip:last").css({left:l,top:h}).fadeIn(this.settings.fadeSpeed)}if(this.settings.debug&&(this.log("Tooltip Content: "+s),n&&this.log("Element Width: "+n),o&&this.log("Element Height: "+o),h&&this.log("Element Top Position: "+h),l&&this.log("Element Left Position: "+l),u&&this.log("Element Right Position: "+u),p&&this.log("Tooltip Width: "+p),f))return this.log("Tooltip Height: "+f)}},e.prototype.hideTooltip=function(){return t(".tooltip").fadeOut(this.settings.fadeSpeed,function(){return t(this).remove()})},e.prototype.render=function(){var e,i;if(e=this,i=e.settings.element,e.settings.removeSpecific&&!e.settings.removeAll&&(e.settings.debug&&e.log("unbinding tooltip"),e.settings.action&&i))switch(e.settings.action){case"click":t(document).off("click.tips.cd",i),t(document).off("blur.tips.bc",i);break;case"hover":t(document).off("click.tips.hc",i),t(document).off("mouseenter.tips.he",i),t(document).off("mouseout.tips.ho",i);break;default:t(document).off("click.tips.fc",i),t(document).off("focus.tips.ff",i),t(document).off("blur.tips.fb",i),t(document).off("change.tips.fch",i)}if(e.settings.removeAll&&(e.settings.debug&&e.log("removing all tooltip binding"),t(document).off("click.tips"),t(document).off("blur.tips"),t(document).off("mouseenter.tips"),t(document).off("mouseout.tips"),t(document).off("change.tips")),!e.settings.removeAll&&!e.settings.removeSpecific)switch(e.settings.action){case"click":return t(document).on("click.tips.cc",i,function(i){return e.settings.preventDefault&&i.preventDefault(),t(this).is(":input")||t(this).attr("tabindex")||t(this).attr("tabindex",0).focus(),e.showTooltip(t(this))}),t(document).on("blur.tips.bc",i,function(i){return t(this).is(":input")||t(this).attr("tabindex")||t(this).removeAttr("tabindex"),e.hideTooltip()});case"hover":return t(document).on("click.tips.hc",i,function(t){return e.settings.preventDefault?t.preventDefault():void 0}),t(document).on("mouseenter.tips.he",i,function(i){return e.showTooltip(t(this))}),t(document).on("mouseout.tips.ho",i,function(t){return e.hideTooltip()});default:return t(document).on("click.tips.fc",i,function(t){return e.settings.preventDefault?t.preventDefault():void 0}),t(document).on("focus.tips.ff",i,function(i){return e.showTooltip(t(this))}),t(document).on("blur.tips.fb",i,function(t){return e.hideTooltip()}),t(document).on("change.tips.fch",i,function(t){return e.hideTooltip()})}},e}(),t.extend({tips:function(t,i){return this(function(){var o;return o=new e(t),"function"==typeof i?i.call(this):void 0})}})});